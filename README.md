**ä¸€ä¸ªåŸºäº Cloudflare Pages + Hono æ„å»ºçš„è½»é‡çº§ R2/S3 å…¼å®¹å¯¹è±¡å­˜å‚¨ç®¡ç†é¢æ¿ã€‚**

æ— éœ€æœåŠ¡å™¨ï¼Œå…è´¹éƒ¨ç½²ï¼Œæ”¯æŒ Cloudflare R2, AWS S3, Aliyun OSS, MinIO ç­‰ä»»æ„ S3 å…¼å®¹å­˜å‚¨ã€‚

[æ¼”ç¤ºæˆªå›¾](#-æ¼”ç¤ºæˆªå›¾) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [ä¸€é”®éƒ¨ç½²](#-ä¸€é”®éƒ¨ç½²) â€¢ [æœ¬åœ°å¼€å‘](#-æœ¬åœ°å¼€å‘)

</div>

---

## ğŸ“¸ æ¼”ç¤ºæˆªå›¾

| ç½‘æ ¼è§†å›¾                              | åˆ—è¡¨è§†å›¾                              |
|:---------------------------------:|:---------------------------------:|
| ![Grid View](docs/index_grid.png) | ![List View](docs/index_list.png) |

| è®¾ç½®é¢æ¿                          | å“åº”å¼è®¾è®¡                                         |
|:-----------------------------:|:---------------------------------------------:|
| ![Settings](docs/setting.png) | <div align="center">é€‚é…ç§»åŠ¨ç«¯ä¸æ¡Œé¢ç«¯<br>æ”¯æŒæ‹–æ‹½ä¸Šä¼ </div> |

## âœ¨ åŠŸèƒ½ç‰¹æ€§

* **âš¡ï¸ æé€Ÿéƒ¨ç½²**ï¼šåŸºäº Cloudflare Pages Functionsï¼Œåˆ©ç”¨å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹åŠ é€Ÿï¼Œæ— éœ€è´­ä¹° VPSã€‚
* **ğŸ” å®‰å…¨è®¿é—®**ï¼šå†…ç½® HTTP Basic Auth è®¤è¯ï¼Œä¿æŠ¤ä½ çš„æ–‡ä»¶ç®¡ç†å…¥å£ã€‚
* **ğŸ—‚ æ–‡ä»¶ç®¡ç†**ï¼š
  * æ”¯æŒ **åˆ—è¡¨ / ç½‘æ ¼** è§†å›¾åˆ‡æ¢ã€‚
  * æ”¯æŒ **æ–‡ä»¶å¤¹æ¨¡æ‹Ÿ** (S3 Prefix)ã€‚
  * æ”¯æŒ **æ‰¹é‡ä¸Šä¼ ** (æ‹–æ‹½) ä¸æ‰¹é‡åˆ é™¤ã€‚
* **ğŸ–¼ æ™ºèƒ½å‹ç¼©**ï¼š
  * **å‰ç«¯è‡ªåŠ¨å‹ç¼©**ï¼šä¸Šä¼ æ—¶å¯è‡ªåŠ¨å°†å›¾ç‰‡è½¬æ¢ä¸º WebP æ ¼å¼ã€‚
  * **èŠ‚çœå¸¦å®½**ï¼šæ”¯æŒè®¾ç½®å‹ç¼©è´¨é‡å¼€å…³ï¼Œæå¤§èŠ‚çœå­˜å‚¨è´¹ç”¨ã€‚
* **ğŸ¥ åª’ä½“é¢„è§ˆ**ï¼š
  * **è§†é¢‘**ï¼šæ”¯æŒ mp4/mov/mkv ç­‰æ ¼å¼åœ¨çº¿æ’­æ”¾ (å¼ºåˆ¶ Inline æ¨¡å¼)ã€‚
  * **éŸ³é¢‘**ï¼šæ”¯æŒ mp3/wav ç­‰æ ¼å¼åœ¨çº¿è¯•å¬ã€‚
  * **å›¾ç‰‡**ï¼šæ”¯æŒç¼©ç•¥å›¾é¢„è§ˆã€‚
* **ğŸ”— åŒé“¾æ¨¡å¼**ï¼šåŒæ—¶æ˜¾ç¤º **Worker ä»£ç†é“¾æ¥** å’Œ **è‡ªå®šä¹‰ CDN åŸŸåé“¾æ¥**ï¼Œæ–¹ä¾¿åˆ†å‘ã€‚
* **â˜ï¸ S3 å…¼å®¹**ï¼šå®Œç¾æ”¯æŒ R2ï¼Œä¹Ÿå¯æŒ‚è½½ AWS S3ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€MinIO ç­‰ã€‚

---

## âš¡ ä¸€é”®éƒ¨ç½²

å¦‚æœä½ æ‹¥æœ‰ Cloudflare è´¦å·ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›è¡Œéƒ¨ç½²ï¼š

[![Deploy to Cloudflare Pages](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/Nth2Miss/s3-manager)

> **âš ï¸ éƒ¨ç½²åå¿…è¯»ï¼š**
> 
> 1. ç‚¹å‡»æŒ‰é’®å®Œæˆ Fork å’Œéƒ¨ç½²æµç¨‹ã€‚
> 2. éƒ¨ç½²å®Œæˆåï¼Œè¿›å…¥é¡¹ç›® **Settings** -> **Environment Variables** é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè§ä¸‹è¡¨ï¼‰ã€‚
> 3. é…ç½®å®Œæˆåï¼Œ**å¿…é¡»** ç‚¹å‡» `Deployments` -> `Retry deployment` é‡æ–°éƒ¨ç½²ä¸€æ¬¡æ‰èƒ½ç”Ÿæ•ˆã€‚

---

## ğŸš€ æ‰‹åŠ¨éƒ¨ç½²æŒ‡å—

### 1. Fork æœ¬ä»“åº“

ç‚¹å‡»å³ä¸Šè§’çš„ **Fork** æŒ‰é’®ï¼Œå°†æœ¬é¡¹ç›®å…‹éš†åˆ°ä½ çš„ GitHub è´¦å·ä¸‹ã€‚

### 2. åˆ›å»º Cloudflare Pages é¡¹ç›®

1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)ã€‚
2. è¿›å…¥ **Workers & Pages** -> **Create Application** -> **Pages** -> **Connect to Git**ã€‚
3. é€‰æ‹©ä½ åˆšæ‰ Fork çš„ä»“åº“ã€‚

### 3. æ„å»ºé…ç½®

åœ¨ **Build settings** ä¸­å¡«å†™ï¼š

* **æ¡†æ¶é¢„è®¾**: `æ— `
* **æ„å»ºå‘½ä»¤**: `npm install`
* **æ„å»ºè¾“å‡ºç›®å½•**: `public`  

### 4. è®¾ç½®ç¯å¢ƒå˜é‡ (Environment Variables)

åœ¨é¡¹ç›®è®¾ç½®é¡µé¢æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

| å˜é‡å                    | è¯´æ˜                | ç¤ºä¾‹å€¼                                     |
|:---------------------- |:----------------- |:--------------------------------------- |
| `AUTH_USER`            | ç®¡ç†åå°ç™»å½•ç”¨æˆ·å         | `admin`                                 |
| `AUTH_PASSWORD`        | ç®¡ç†åå°ç™»å½•å¯†ç           | `password`                              |
| `S3_ENDPOINT`          | S3 æ¥å£åœ°å€ (å¸¦ https) | `https://<ID>.r2.cloudflarestorage.com` |
| `S3_BUCKET_NAME`       | å­˜å‚¨æ¡¶åç§°             | `my-bucket`                             |
| `S3_ACCESS_KEY_ID`     | Access Key        | `AKI...`                                |
| `S3_SECRET_ACCESS_KEY` | Secret Key        | `abc...`                                |
| `S3_REGION`            | åŒºåŸŸ (R2 å¡« auto)    | `auto`                                  |
| `S3_PUBLIC_DOMAIN`     | (å¯é€‰) ç»‘å®šçš„ CDN åŸŸå   | `https://cdn.example.com`               |

---

## ğŸ›  æœ¬åœ°å¼€å‘

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°è¿›è¡Œä¿®æ”¹å’Œè°ƒè¯•ï¼š

1. **å…‹éš†é¡¹ç›®**
   
   ```bash
   git clone [https://github.com/Nth2Miss/s3-manager.git](https://github.com/Nth2Miss/s3-manager.git)
   cd s3-manager
   ```

2. **å®‰è£…ä¾èµ–**
   
   ```bash
   npm install
   ```

3. **é…ç½®æœ¬åœ°ç¯å¢ƒ**
   åœ¨æ ¹ç›®å½•åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼ˆ**ä¸è¦**æäº¤åˆ° GitHubï¼‰ï¼Œå¡«å…¥ä¸Šè¿°ç¯å¢ƒå˜é‡ï¼š
   
   ```env
   AUTH_USER=admin
   AUTH_PASSWORD=password
   S3_ENDPOINT=[https://xxx.r2.cloudflarestorage.com](https://xxx.r2.cloudflarestorage.com)
   S3_BUCKET_NAME=test-bucket
   S3_ACCESS_KEY_ID=xxx
   S3_SECRET_ACCESS_KEY=xxx
   S3_REGION=auto
   ```

4. **å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨**
   
   ```bash
   npx wrangler pages dev public
   ```
   
   è®¿é—® `http://localhost:8788` å³å¯ã€‚

## ğŸ“ ä½¿ç”¨è¯´æ˜

* **è·¯å¾„ä¸Šä¼ **ï¼šåœ¨ä¸Šä¼ æ¡†çš„è·¯å¾„è¾“å…¥æ å¡«å†™ `folder/subfolder/`ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨å½’æ¡£åˆ°è¯¥ç›®å½•ä¸‹ã€‚
* **WebP å¼€å…³**ï¼šç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡ï¼Œå¯ä»¥å¼€å¯æˆ–å…³é—­â€œå›¾ç‰‡è‡ªåŠ¨å‹ç¼©â€åŠŸèƒ½ï¼Œå¹¶è°ƒæ•´å‹ç¼©è´¨é‡ï¼ˆ0.1 - 1.0ï¼‰ã€‚
* **è‡ªå®šä¹‰åŸŸå**ï¼šåœ¨è®¾ç½®ä¸­å¡«å…¥ä½ çš„ R2/S3 ç»‘å®šåŸŸåï¼Œåˆ—è¡¨ä¸­çš„â€œCDN é“¾æ¥â€ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€é‡æ–°éƒ¨ç½²ä»£ç ã€‚

## ğŸ¤ æŠ€æœ¯æ ˆ

* **Frontend**: Native HTML5/JS, Tailwind CSS (CDN), Lucide Icons
* **Backend**: Cloudflare Pages Functions, Hono, aws4fetch

## ğŸ“„ License

MIT License
